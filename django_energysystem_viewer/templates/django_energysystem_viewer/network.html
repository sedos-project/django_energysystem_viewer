{% load static compress %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="keywords" content="energysystem,network" />
    <meta name="description" content="Network graph for given energysystem" />
    <title>Title</title>
  </head>
  <body>
    <h1>Network Graph</h1>
    <form hx-get="/energysystem/network_graph"
          hx-target="#network_graph"
          hx-trigger="change">
      <label for="mapping">Mapping:</label>
      <select id="mapping" name="mapping">
        <option label="dav" value="dav"></option>
        <option label="drl" value="drl"></option>
        <option label="fr" value="fr"></option>
      </select>
      <label for="sectors">Sectors:</label>
      <select id="sectors" name="sectors" multiple>
        <option label="Power" value="pow"></option>
        <option label="X2X" value="x2x"></option>
        <option label="Industry" value="ind"></option>
        <option label="Mobility" value="mob"></option>
        <option label="Heat" value="hea"></option>
      </select>
      <label for="seperate_join">Sectors seperate or joined:</label>
      <input type="radio" id="seperate" name="seperate_join" value="sep">
      <label for="seperate">Seperate Sectors</label><br>
      <input type="radio" id="joined" name="seperate_join" value="agg">
      <label for="joined">Aggregate Sectors</label><br>     
      <div>You can choose to filter a specific process or a specific commodity.</div><br>
      <div id="proc_comm" _="on input if #process.value add @disabled to #commodity
      else remove @disabled from #commodity end
      on input if #commodity.value add @disabled to #process
      else remove @disabled from #process">
        <label for="process">Choose specific process to display:</label>
        <input list="processes" id="process" name="process" placeholder="Enter or select process...">
        <datalist id="processes">
          {% for process in unique_processes %}
          <option value="{{ process }}"></option>
          {% endfor %}
        </datalist>
        <label for="commodity">Choose specific commodity to display:</label>
        <input list="commodities" id="commodity" name="commodity" placeholder="Enter or select process...">
        <datalist id="commodities">
          {% for commodity in unique_commodities %}
          <option value="{{ commodity }}"></option>
          {% endfor %}
        </datalist>         
      </div>
    </form>
    <div id="network_graph"></div>
    <script src="{% static 'django_energysystem_viewer/libs/htmx.min.js' %}"></script>
    <script src="https://unpkg.com/hyperscript.org@0.9.12"></script>
  </body>
</html>
